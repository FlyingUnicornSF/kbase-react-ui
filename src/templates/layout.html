<!doctype html>
<html>
  <head>
    {% block head %}
    <title>{% block title %}{% endblock %} | KBase</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    {# Use font awesome from their official CDN. #}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    {# Use the Oxygen font from the google font API #}
    <link href="https://fonts.googleapis.com/css?family=Oxygen:400,700" rel="stylesheet">
    {# Base tachyons styles #}
    <link rel='stylesheet' href='{{ url_for('static', filename='build/tachyons.min.css') }}'>
    {% endblock %}
  </head>

  <body class='flex flex-column' style='min-height: 100vh;'>

    {# Top nav bar #}
    {% if newnav %}
      {# Redesigned navigation for testing purposes #}
      {% include 'new-nav.html' %}
    {% else %}
      <header id='global-header' class='flex items-center global-header z-2'>

        {% include "hamburger-menu.html" %}

        <a href="https://kbase.us" class="dib logo-header">
          <img src='{{url_for('static', filename='images/kbase_logo.png')}}' alt='KBase logo'>
        </a>

        <div
          id='global-react-header'
          class='flex'
          style='height: 65px'
          data-page-title="{% block titleheader %}{% endblock %}"
        >
        </div>

      </header>
      {% include 'legacy-nav.html' %}
    {% endif %}

    {# Page contents replaced by React #}
    <main style='padding-left: 12rem; max-width: 80rem;'>
      {% block content %}{% endblock %}
    </main>

    {# Server-provided global data into JS #}
    <script type='text/javascript'>
      window._env = {
        url_prefix: '{{app.config.URL_PREFIX}}',
        kbase_endpoint: '{{app.config.KBASE_ENDPOINT}}',
        narrative: '{{app.config.KBASE_UI_ROOT}}'
      };
    </script>

    {# Global JS bundle #}
    <script src="{{ url_for('js') }}" type="text/javascript"></script>

    {# Any additional page-specific JS #}
    {% block js %} {% endblock %}
  </body>
</html>

