<!doctype html>
<html>
  <head>
    {% block head %}
    <title>{% block title %}{% endblock %} | KBase</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    {# Use font awesome from their official CDN. #}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    {# Use the Oxygen font from the google font API #}
    <link href="https://fonts.googleapis.com/css?family=Oxygen:400,700" rel="stylesheet">
    {# Base tachyons styles #}
    <link rel='stylesheet' href='{{ url_for('static', filename='build/tachyons.min.css') }}'>
    {% endblock %}
  </head>

  <body style='min-height: 100vh;'>

    {# Top nav bar #}

    <!-- START top-level navigation -->
    <div
      class='fixed top-0 left-0 shadow-4 h-100 flex flex-column justify-between bg-washed-blue z-1'
      style='width: 12rem; box-shadow:-1px 2px 8px 0 rgba( 0, 0, 0, .2 ); overflow-y:auto;'>
      <ul class='list pa0'>
        <li class='ph2 pb3 pointer dim'>
          <a href='{{ url_for('dashboard')}}'>
            <img src='{{url_for('static', filename='images/logo.png')}}' alt='KBase logo'>
          </a>
        </li>
        <li>
          <a data-hl-nav='/dashboard' href='{{ url_for('dashboard') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="fas fa-tachometer-alt black-60 tc mr1" style='width:1.5rem'></i>
            Dashboard
          </a>
        </li>
        <a data-hl-nav='/search' href='{{ url_for('search') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="fas fa-search black-60 dib tc mr1" style='width:1.5rem'></i>
            Search
          </a>
        </li>
        <li>
          <a data-hl-nav='/orgs' href='{{ url_for('orgs') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="dib fas fa-users black-60 dib tc mr1" style='width:1.5rem'></i>
            Orgs
          </a>
        </li>
        <li>
          <a data-hl-nav='/catalog' href='{{ url_for('catalog') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="dib fas fa-book black-60 dib tc mr1" style='width:1.5rem'></i>
            Catalog
          </a>
        </li>
        <li>
          <a data-hl-nav='/notifications' href='{{ url_for('notifications') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="fas fa-bell black-60 dib tc mr1" style='width:1.5rem'></i>
            Notifications
          </a>
        </li>
        <li>
          <a data-hl-nav='/account' href='{{ url_for('account') }}' class='dib ph3 pv2 no-underline black-80 w-100 dim'>
            <i class="fas fa-user-circle black-60 dib tc mr1" style='width:1.5rem'></i>
            Account
          </a>
        </li>
      </ul>

      <ul class='list pa0 bt b--black-10 pt2'>
        <li class='ph3 pv1 pointer dim'>
          <a class='no-underline black-80' target='_blank' href='https://kbase.us/new-to-kbase/'>Help</a>
        </li>
        <li class='ph3 pv1 pointer dim'>
          <a class='no-underline black-80' target='_blank' href='http://kbase.us/what-is-kbase/'>About KBase</a>
        </li>
        <li class='ph3 pv1 pointer dim'>
          <a class='no-underline black-80' target='_blank' href='https://kbase.us/contact-us/'>Contact</a>
        </li>
        <li class='ph3 pv1 pointer dim'>
          <a class='no-underline black-80' target='_blank' href='https://status.kbase.us/'>Server Status</a>
        </li>
      </ul>
    </div>
    <!-- END top-level navigation -->

    {# Page contents replaced by React #}
    <main style='padding-left: 14rem; padding-right: 2rem; min-width: 70rem; max-width: 80rem;' class='center'>
      {% block content %}{% endblock %}
    </main>

    {# Server-provided global data into JS #}
    <script type='text/javascript'>
      window._env = {
        url_prefix: '{{app.config.URL_PREFIX}}',
        kbase_endpoint: '{{app.config.KBASE_ENDPOINT}}',
        narrative: '{{app.config.KBASE_UI_ROOT}}'
      };
    </script>

    {# Global JS bundle #}
    <script src="{{ url_for('js') }}" type="text/javascript"></script>

    {# Any additional page-specific JS #}
    {% block js %} {% endblock %}
  </body>
</html>

